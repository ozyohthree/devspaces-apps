apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    console.openshift.io/dashboard: "true"
  name: grafana-dashboard-dwo
  namespace: openshift-config-managed
  annotations:
    description: Grafana Dashboard definition for Dev Workspace Operator  
data:
  dwo-dashboard.json: |-
    {
        "annotations": {
            "list": [
                {
                    "$$hashKey": "object:240",
                    "builtIn": 1,
                    "datasource": "-- Grafana --",
                    "enable": true,
                    "hide": true,
                    "iconColor": "rgba(0, 211, 255, 1)",
                    "name": "Annotations & Alerts",
                    "target": {
                        "limit": 100,
                        "matchAny": false,
                        "tags": [],
                        "type": "dashboard"
                    },
                    "type": "dashboard"
                }
            ]
        },
        "description": "Dev Workspace Operator",
        "editable": true,
        "gnetId": null,
        "graphTooltip": 0,
        "id": 1,
        "links": [],
        "panels": [
            {
                "showTitle": "true",
                "collapsed": false,
                "datasource": null,
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 0
                },
                "id": 31,
                "panels": [],
                "title": "DevWorkspace Cluster Usage",
                "type": "row"
            },
            {
                "datasource": null,
                "id": 51,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "span": "6",
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "sum(rate(container_cpu_usage_seconds_total{container=\"\"}[1m]) * on(pod) group_left kube_pod_labels{label_controller_devfile_io_creator!=''})",
                        "interval": "",
                        "legendFormat": "Total CPU Usage",
                        "queryType": "randomWalk",
                        "refId": "A"
                    }
                ],
                "title": "Total Workspace CPU Usage",
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:295",
                        "format": "short",
                        "label": "CPU Cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "datasource": null,
                "id": 54,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "span": "6",
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "sum(rate(container_cpu_usage_seconds_total{container=\"\"}[1m]) * on(pod) group_left kube_pod_labels{label_controller_devfile_io_creator!=''}) / count(kube_pod_info{pod=~\"^workspace.*\"})",
                        "interval": "",
                        "legendFormat": "AVG CPU Usage",
                        "queryType": "randomWalk",
                        "refId": "A"
                    }
                ],
                "title": "Average Workspace CPU Usage",
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:295",
                        "format": "short",
                        "label": "CPU Cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "$$hashKey": "object:296",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "datasource": null,
                "id": 49,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "span": "6",
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "sum(avg_over_time(container_memory_working_set_bytes{container=''}[5m]) * on(pod) group_left kube_pod_labels{label_controller_devfile_io_creator!=''})",
                        "interval": "",
                        "legendFormat": "Memory",
                        "queryType": "randomWalk",
                        "refId": "A"
                    }
                ],
                "title": "Total Workspace Memory Usage",
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:238",
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "$$hashKey": "object:239",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "datasource": null,
                "id": 55,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "span": "6",
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "sum(avg_over_time(container_memory_working_set_bytes{container=''}[5m]) * on(pod) group_left kube_pod_labels{label_controller_devfile_io_creator!=''}) / count(kube_pod_info{pod=~\"^workspace.*\"}) ",
                        "interval": "",
                        "legendFormat": "Memory",
                        "queryType": "randomWalk",
                        "refId": "A"
                    }
                ],
                "title": "Average Workspace Memory Usage",
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:238",
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "$$hashKey": "object:239",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "datasource": null,
                "id": 53,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "span": "12",
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "count(kube_pod_labels{label_controller_devfile_io_creator!=''})",
                        "format": "time_series",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "Number of Workspaces Running",
                        "queryType": "randomWalk",
                        "refId": "A"
                    }
                ],
                "title": "Running Workspaces",
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:155",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "$$hashKey": "object:156",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "datasource": null,
                "format": "percentunit",
                "id": 57,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": " (sum( 1 - sum without (mode) (rate(node_cpu_seconds_total{mode=~\"idle|iowait|steal\"}[2m]))) / count(node_cpu_info)) ",
                        "interval": "",
                        "legendFormat": "CPU Usage %",
                        "refId": "A"
                    }
                ],
                "span": 6,
                "title": "Node CPU Usage",
                "type": "gauge"
            },
            {
                "datasource": null,
                "description": "",
                "format": "percentunit",
                "id": 59,
                "pluginVersion": "7.5.15",
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "(((sum(node_memory_MemTotal_bytes)  - sum(node_memory_MemAvailable_bytes)) / sum(node_memory_MemTotal_bytes) ))",
                        "format": "time_series",
                        "instant": false,
                        "interval": "",
                        "legendFormat": "",
                        "refId": "A"
                    }
                ],
                "span": 6,
                "timeFrom": null,
                "timeShift": null,
                "title": "Total Node Memory Utilization",
                "type": "gauge"
            },
            {
                "datasource": "null",
                "id": 69,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "span": 6,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": " sum( 1 - sum without (mode) (rate(node_cpu_seconds_total{mode=~\"idle|iowait|steal\"}[2m])))",
                        "interval": "",
                        "legendFormat": "Used CPU Cores",
                        "refId": "A"
                    },
                    {
                        "exemplar": true,
                        "expr": "count(node_cpu_info)",
                        "hide": false,
                        "interval": "",
                        "legendFormat": "Total CPU Cores",
                        "refId": "B"
                    }
                ],
                "title": "Node CPU Cores",
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "datasource": null,
                "id": 69,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "span": 6,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "sum( (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes) * on(instance) group_left(role) ( label_replace(max by (node) (kube_node_role{role=~\".+\"}), \"instance\", \"$1\", \"node\", \"(.*)\") ) ) ",
                        "interval": "",
                        "legendFormat": "Used Memory Used",
                        "refId": "A"
                    },
                    {
                        "exemplar": true,
                        "expr": "sum(node_memory_MemTotal_bytes)",
                        "hide": false,
                        "interval": "",
                        "legendFormat": "Total Memory",
                        "refId": "B"
                    }
                ],
                "title": "Node Memory Usage",
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "showTitle": "true",
                "collapsed": false,
                "datasource": null,
                "gridPos": {
                    "h": 1,
                    "w": 12,
                    "x": 0,
                    "y": 0
                },
                "id": 32,
                "panels": [],
                "title": "DevWorkspace Metrics",
                "type": "row"
            },
            {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                    "#299c46",
                    "rgba(237, 129, 40, 0.89)",
                    "#d44a3a"
                ],
                "datasource": null,
                "description": "",
                "format": "s",
                "gauge": {
                    "maxValue": 100,
                    "minValue": 0,
                    "show": false,
                    "thresholdLabels": false,
                    "thresholdMarkers": true
                },
                "gridPos": {
                    "h": 5,
                    "w": 12,
                    "x": 0,
                    "y": 1
                },
                "id": 41,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                    {
                        "$$hashKey": "object:195",
                        "name": "value to text",
                        "value": 1
                    },
                    {
                        "$$hashKey": "object:196",
                        "name": "range to text",
                        "value": 2
                    }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "pluginVersion": "6.7.6",
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                    {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                    }
                ],
                "sparkline": {
                    "fillColor": "rgba(31, 118, 189, 0.18)",
                    "full": false,
                    "lineColor": "rgb(31, 120, 193)",
                    "show": false,
                    "ymax": null,
                    "ymin": null
                },
                "tableColumn": "",
                "span": 6,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "(sum by (source) (increase(devworkspace_startup_time_sum[$__range]))) / (sum by (source) (increase(devworkspace_startup_time_count[$__range])))",
                        "interval": "",
                        "legendFormat": "Average startup time (source={{source}})",
                        "refId": "A"
                    }
                ],
                "thresholds": "",
                "title": "Average Workspace Start Time",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                    {
                        "$$hashKey": "object:198",
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                    }
                ],
                "valueName": "avg"
            },
            {
                "aliasColors": {},
                "bars": true,
                "dashLength": 10,
                "dashes": false,
                "datasource": null,
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 6
                },
                "hiddenSeries": false,
                "id": 49,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": false,
                    "total": false,
                    "values": false
                },
                "lines": false,
                "linewidth": 1,
                "nullPointMode": "null",
                "options": {
                    "dataLinks": []
                },
                "percentage": false,
                "pointradius": 2,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "span": 6,
                "targets": [
                    {
                        "expr": "sum by (source) (floor(increase(devworkspace_started_total[$__interval])))",
                        "interval": "",
                        "legendFormat": "Workspaces started",
                        "refId": "A"
                    }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Workspace Starts",
                "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:330",
                        "decimals": 0,
                        "format": "short",
                        "label": "Workspaces started",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "$$hashKey": "object:331",
                        "format": "short",
                        "label": "",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": null,
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 12,
                    "y": 6
                },
                "hiddenSeries": false,
                "id": 51,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "lines": true,
                "linewidth": 1,
                "nullPointMode": "null",
                "options": {
                    "dataLinks": []
                },
                "percentage": false,
                "pluginVersion": "6.7.6",
                "pointradius": 2,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [
                    {
                        "$$hashKey": "object:626",
                        "alias": "Failures",
                        "color": "#C4162A"
                    },
                    {
                        "$$hashKey": "object:634",
                        "alias": "Successes",
                        "color": "#1F60C4"
                    }
                ],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                    {
                        "expr": "sum(increase(devworkspace_started_success_total[$__interval]))",
                        "interval": "",
                        "legendFormat": "Successes",
                        "refId": "B"
                    },
                    {
                        "expr": "sum(increase(devworkspace_fail_total[$__interval]))",
                        "format": "time_series",
                        "interval": "",
                        "legendFormat": "Failures",
                        "refId": "A"
                    }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "DevWorkspace Successes/Failures",
                "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:240",
                        "decimals": 0,
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "$$hashKey": "object:241",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                    "#37872D",
                    "rgba(237, 129, 40, 0.89)",
                    "#d44a3a"
                ],
                "datasource": null,
                "format": "none",
                "gauge": {
                    "maxValue": 100,
                    "minValue": 0,
                    "show": false,
                    "thresholdLabels": false,
                    "thresholdMarkers": true
                },
                "gridPos": {
                    "h": 5,
                    "w": 12,
                    "x": 12,
                    "y": 1
                },
                "id": 45,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                    {
                        "$$hashKey": "object:94",
                        "name": "value to text",
                        "value": 1
                    },
                    {
                        "$$hashKey": "object:95",
                        "name": "range to text",
                        "value": 2
                    }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "pluginVersion": "6.7.6",
                "postfix": "%",
                "postfixFontSize": "80%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                    {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                    }
                ],
                "sparkline": {
                    "fillColor": "rgba(31, 118, 189, 0.18)",
                    "full": false,
                    "lineColor": "rgb(31, 120, 193)",
                    "show": false,
                    "ymax": null,
                    "ymin": null
                },
                "tableColumn": "",
                "span": 6,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "sum(increase(devworkspace_fail_total[$__range])) / sum(increase(devworkspace_started_total[$__range])) * 100.0",
                        "interval": "",
                        "legendFormat": "",
                        "refId": "A"
                    }
                ],
                "thresholds": "",
                "title": "DevWorkspace Failure Rate",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                    {
                        "$$hashKey": "object:97",
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                    }
                ],
                "valueName": "avg"
            },
            {
                "alias": "alias",
                "columns": [
                    {
                        "text": "Time",
                        "value": "Time"
                    },
                    {
                        "text": "Value",
                        "value": "Value"
                    },
                    {
                        "text": "reason",
                        "value": "reason"
                    }
                ],
                "datasource": null,
                "fontSize": "100%",
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 0
                },
                "id": 53,
                "pageSize": null,
                "showHeader": true,
                "sort": {
                    "col": 0,
                    "desc": true
                },
                "styles": [
                    {
                        "alias": "Time",
                        "colorMode": null,
                        "colors": [],
                        "dateFormat": "YYYY-MM-DD HH:mm:ss",
                        "decimals": 2,
                        "link": false,
                        "linkTooltip": "Drill down",
                        "linkUrl": "",
                        "pattern": "Time",
                        "thresholds": [],
                        "type": "hidden",
                        "unit": "short"
                    },
                    {
                        "alias": "Reason",
                        "align": "auto",
                        "colorMode": null,
                        "colors": [
                            "rgba(245, 54, 54, 0.9)",
                            "rgba(237, 129, 40, 0.89)",
                            "rgba(50, 172, 45, 0.97)"
                        ],
                        "dateFormat": "YYYY-MM-DD HH:mm:ss",
                        "decimals": 2,
                        "mappingType": 1,
                        "pattern": "reason",
                        "thresholds": [],
                        "type": "number",
                        "unit": "short"
                    },
                    {
                        "alias": "Value",
                        "align": "auto",
                        "colorMode": null,
                        "colors": [
                            "rgba(245, 54, 54, 0.9)",
                            "rgba(237, 129, 40, 0.89)",
                            "rgba(50, 172, 45, 0.97)"
                        ],
                        "dateFormat": "YYYY-MM-DD HH:mm:ss",
                        "decimals": 0,
                        "mappingType": 1,
                        "pattern": "Value",
                        "thresholds": [],
                        "type": "number",
                        "unit": "bytes"
                    }
                ],
                "span": 6,
                "targets": [
                    {
                        "expr": "sum(increase(devworkspace_fail_total[$__range])) by (reason)",
                        "refId": "A",
                        "format": "table",
                        "intervalFactor": 2,
                        "legendFormat": "",
                        "step": 10
                    }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "DevWorkspace Failure Reasons",
                "type": "table"
            },
            {
                "showTitle": true,
                "collapsed": false,
                "datasource": null,
                "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 22
                },
                "id": 29,
                "panels": [],
                "title": "Operator Metrics",
                "type": "row"
            },
            {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": null,
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 23
                },
                "hiddenSeries": false,
                "id": 27,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "lines": true,
                "linewidth": 1,
                "nullPointMode": "null",
                "options": {
                    "alertThreshold": true,
                    "dataLinks": []
                },
                "percentage": false,
                "pluginVersion": "8.1.6",
                "pointradius": 2,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "span": 6,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "sum by (webhook) (increase(controller_runtime_webhook_requests_total{service=~\"devworkspace.+\"}[$__interval]))",
                        "interval": "",
                        "legendFormat": "{{webhook}}",
                        "refId": "A"
                    }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Webhooks in Flight",
                "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:689",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "$$hashKey": "object:690",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "cards": {
                    "cardPadding": null,
                    "cardRound": null
                },
                "color": {
                    "cardColor": "#b4ff00",
                    "colorScale": "sqrt",
                    "colorScheme": "interpolateOranges",
                    "exponent": 0.5,
                    "mode": "spectrum"
                },
                "dataFormat": "tsbuckets",
                "datasource": null,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 31
                },
                "heatmap": {},
                "hideZeroBuckets": true,
                "highlightCards": true,
                "id": 25,
                "interval": null,
                "legend": {
                    "show": false
                },
                "maxDataPoints": 120,
                "pluginVersion": "7.5.5",
                "reverseYBuckets": false,
                "span": 6,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "sum(increase(controller_runtime_webhook_latency_seconds_bucket{webhook=\"/mutate\"}[$__interval])) by (le)",
                        "format": "heatmap",
                        "interval": "",
                        "legendFormat": "{{le}}",
                        "refId": "A"
                    }
                ],
                "title": "Webhooks Latency (/mutate)",
                "tooltip": {
                    "show": true,
                    "showHistogram": false
                },
                "type": "heatmap",
                "xAxis": {
                    "show": true
                },
                "xBucketNumber": null,
                "xBucketSize": null,
                "yAxis": {
                    "decimals": 0,
                    "format": "s",
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true,
                    "splitFactor": null
                },
                "yBucketBound": "auto",
                "yBucketNumber": null,
                "yBucketSize": null
            },
            {
                "aliasColors": {},
                "bars": true,
                "dashLength": 10,
                "dashes": false,
                "datasource": null,
                "description": "How many reconcile requests are in the queue",
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 12,
                    "y": 39
                },
                "hiddenSeries": false,
                "id": 10,
                "interval": null,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": true,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": true
                },
                "lines": false,
                "linewidth": 1,
                "maxDataPoints": 120,
                "nullPointMode": "null",
                "options": {
                    "alertThreshold": true,
                    "dataLinks": []
                },
                "percentage": false,
                "pluginVersion": "8.1.6",
                "pointradius": 2,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "span": 6,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "workqueue_depth{name=\"devworkspace\"}",
                        "interval": "",
                        "legendFormat": "Workqueue depth (DW)",
                        "refId": "A"
                    }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Workqueue Depth",
                "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:1494",
                        "decimals": 0,
                        "format": "req",
                        "label": "",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "$$hashKey": "object:1495",
                        "format": "dateTimeAsLocal",
                        "label": "as",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": null,
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 47
                },
                "hiddenSeries": false,
                "id": 8,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "lines": true,
                "linewidth": 1,
                "nullPointMode": "null",
                "options": {
                    "alertThreshold": true,
                    "dataLinks": []
                },
                "percentage": false,
                "pluginVersion": "8.1.6",
                "pointradius": 2,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "span": 6,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "process_resident_memory_bytes{service=~\"devworkspace.+\"}",
                        "interval": "",
                        "legendFormat": "Memory use ({{job}})",
                        "refId": "A"
                    }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Memory",
                "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:476",
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                    },
                    {
                        "$$hashKey": "object:477",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            },
            {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": null,
                "description": "",
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                    "h": 8,
                    "w": 12,
                    "x": 12,
                    "y": 47
                },
                "hiddenSeries": false,
                "id": 18,
                "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                },
                "lines": true,
                "linewidth": 1,
                "nullPointMode": "null",
                "options": {
                    "alertThreshold": true,
                    "dataLinks": []
                },
                "percentage": false,
                "pluginVersion": "8.1.6",
                "pointradius": 2,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "span": 6,
                "targets": [
                    {
                        "exemplar": true,
                        "expr": "rate(controller_runtime_reconcile_total{controller=\"devworkspace\"}[$__interval])",
                        "instant": false,
                        "interval": "",
                        "legendFormat": "{{result}}",
                        "refId": "A"
                    }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Reconcile Counts (DWO)",
                "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                },
                "yaxes": [
                    {
                        "$$hashKey": "object:1840",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    },
                    {
                        "$$hashKey": "object:1841",
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                    }
                ],
                "yaxis": {
                    "align": false,
                    "alignLevel": null
                }
            }
        ],
        "refresh": "5s",
        "schemaVersion": 22,
        "style": "dark",
        "tags": [
            "dev-spaces"
        ],
        "templating": {
            "list": []
        },
        "time": {
            "from": "now-12h",
            "to": "now"
        },
        "timepicker": {
            "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
            ]
        },
        "timezone": "",
        "title": "Dev Workspace Operator",
        "uid": "EdJ14YW7l",
        "variables": {
            "list": []
        },
        "version": 1
    }

